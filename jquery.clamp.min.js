/*
* jquery.clamp.js
* 
* Copyright 2015, ichi5 https://github.com/ichi5/
* Released under the WTFPL license
* http://sam.zoy.org/wtfpl/
* 
* Original
* https://github.com/josephschmitt/Clamp.js/
*/
(function(f){f.fn.clamp=function(l){var b=f.extend({clamp:2,splitOnChars:[".","-","\u2013","\u2014"," "],animate:!1,truncationChar:"\u2026",truncationHTML:"",alwaysDisplay:!1},l);return this.each(function(){function q(a,b){getComputedStyle||(getComputedStyle=function(a,b){this.el=a;this.getPropertyValue=function(b){var c=/(\-([a-z]){1})/g;"float"==b&&(b="styleFloat");c.test(b)&&(b=b.replace(c,function(a,b,c){return c.toUpperCase()}));return a.currentStyle&&a.currentStyle[b]?a.currentStyle[b]:null};
return this});return getComputedStyle(a,null).getPropertyValue(b)}function m(a,k){if(k){var f=a.html().replace(b.truncationChar,"");d||(e=0<g.length?g.shift():"",d=f.split(e));1<d.length?(n=d.pop(),p(a,d.join(e))):d=null;h&&(a.html(a.html().replace(b.truncationChar,"")),c.html(a.html()+" "+h.innerHTML+b.truncationChar));if(d){if(c.height()<=k)if(0<=g.length&&""!=e)p(a,d.join(e)+e+n),d=null;else return c.html()}else""==e&&(p(a,""),g=b.splitOnChars.slice(0),e=g[0],n=d=null);if(b.animate)setTimeout(function(){m(a,
k)},!0===b.animate?10:b.animate);else return m(a,k)}}function p(a,c){a.html(c+b.truncationChar)}var c=f(this);f(this).text();var l=b.clamp,h,g=b.splitOnChars.slice(0),e=g[0],d,n;b.truncationHTML&&(h=document.createElement("span"),h.innerHTML=b.truncationHTML);(function(){var a;a=q(c[0],"line-height");"normal"==a&&(a=1.2*parseInt(q(c[0],"font-size")));a=parseInt(a)*l;a<c.height()?m(c,a):(c.html(c.html().replace(b.truncationChar,"")),b.alwaysDisplay&&(a=h?h.innerHTML+b.truncationChar:b.truncationChar,
c.html(c.html()+" "+a)))})()})}})(jQuery);